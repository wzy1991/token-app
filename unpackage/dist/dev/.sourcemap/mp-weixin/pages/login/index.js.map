{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/wangzy/Documents/HBuilderProjects/token-app/pages/login/index.vue?65ba","webpack:///C:/Users/wangzy/Documents/HBuilderProjects/token-app/pages/login/index.vue?1bce","webpack:///C:/Users/wangzy/Documents/HBuilderProjects/token-app/pages/login/index.vue?3f58","webpack:///C:/Users/wangzy/Documents/HBuilderProjects/token-app/pages/login/index.vue?873d","uni-app:///pages/login/index.vue","webpack:///C:/Users/wangzy/Documents/HBuilderProjects/token-app/pages/login/index.vue?8636","webpack:///C:/Users/wangzy/Documents/HBuilderProjects/token-app/pages/login/index.vue?1bfb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/login/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=4586967a&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4586967a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4586967a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=4586967a&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.formItem = 2\n    }\n\n    _vm.e1 = function($event) {\n      _vm.formItem = 1\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"height: 100%;width: 100%;background-color: #FFFFFF;\">\r\n\t\t<view class=\"t-login\">\r\n\t\t\t<view v-if=\"formItem === 1\">\r\n\t\t\t\t<view class=\"t-b\" :class=\"current === index ? 'on' : ''\" v-for=\"(item, index) in navList\" @click=\"navTap(index)\" :key=\"index\">{{ item }}</view>\r\n\r\n\t\t\t\t<view :hidden=\"current !== 0\">\r\n\t\t\t\t\t<form @submit.prevent=\"submit\" class=\"cl\">\r\n\t\t\t\t\t\t<view class=\"t-a\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/login/sj.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"输入手机号码1\" v-model=\"account\" required />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"t-a\">\r\n\t\t\t\t\t\t\t<image src=\"@/static/login/mima.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t<input type=\"password\" placeholder=\"填写登录密码\" v-model=\"password\" required />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"passwordClass\"><view class=\"password\" @click=\"forget\">忘记密码</view></view>\r\n\t\t\t\t\t\t<view class=\"t-d\">\r\n\t\t\t\t\t\t\t<!-- 登录即同意\r\n\t\t\t\t\t\t\t<text class=\"clickClass\" @click=\"handleGoUser\">《注册协议》</text>\r\n\t\t\t\t\t\t\t和\r\n\t\t\t\t\t\t\t<text class=\"clickClass\" @click=\"handleGoPrivacy\">《隐私政策》</text> -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<button class=\"logon\" @click=\"submit\" :hidden=\"current === 1\">登录</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"tip\">\r\n\t\t\t\t\t没有账号?\r\n\t\t\t\t\t<text @click=\"formItem = 2\" class=\"font-color-red\">立即注册</text>\r\n\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view v-else>\r\n\t\t\t\t<view class=\"t-b\">注册账号</view>\r\n\t\t\t\t<view class=\"cl\">\r\n\t\t\t\t\t<view class=\"t-a\">\r\n\t\t\t\t\t\t<image src=\"@/static/login/sj.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<input name=\"account\" type=\"text\" placeholder=\"输入手机号码\" v-model=\"account\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"t-a\">\r\n\t\t\t\t\t\t<image src=\"@/static/login/yz.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<input name=\"verifyCode\" type=\"text\" placeholder=\"填写验证码\" class=\"codeIput\" v-model=\"captcha\" />\r\n\t\t\t\t\t\t<button class=\"t-c\" :disabled=\"disabled\" :class=\"disabled === true ? 'on' : ''\" @click=\"code\">{{ text }}</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"t-a\">\r\n\t\t\t\t\t\t<image src=\"@/static/login/mima.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<input name=\"password\" type=\"password\" placeholder=\"填写您的登录密码\" v-model=\"password\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"t-a\">\r\n\t\t\t\t\t\t<image src=\"@/static/login/yq.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<input name=\"inviteCode\" type=\"text\" placeholder=\"输入邀请码\" v-model=\"inviteCode\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"desc\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<checkbox-group @change=\"changeChecked\">\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t<checkbox value=\"check\" :checked=\"isChecked\" color=\"#000000\" style=\"transform:scale(0.7)\" />\r\n\t\t\t\t\t\t\t\t\t注册且同意\r\n\t\t\t\t\t\t\t\t\t<text class=\"clickClass\" @click=\"handleGoUser\">《注册协议》</text>\r\n\t\t\t\t\t\t\t\t\t和\r\n\t\t\t\t\t\t\t\t\t<text class=\"clickClass\" @click=\"handleGoPrivacy\">《隐私政策》</text>\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</checkbox-group>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class=\"logon\" @click=\"register\">注册</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tip\">\r\n\t\t\t\t\t已有账号?\r\n\t\t\t\t\t<text @click=\"formItem = 1\" class=\"font-color-red\">立即登录</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n<script>\r\nimport sendVerifyCode from '@/mixins/SendVerifyCode';\r\nimport { login, loginMobile, registerVerify, register } from '@/api/user';\r\nimport attrs, { required, alpha_num, chs_phone } from '@/utils/validate';\r\nimport { validatorDefaultCatch } from '@/utils/dialog';\r\nimport dayjs from 'dayjs';\r\nimport cookie from '@/utils/store/cookie';\r\n\r\n// import { handleGetUserInfo } from '@/utils';\r\n\r\nconst BACK_URL = 'login_back_url';\r\n\r\nexport default {\r\n\tname: 'Login',\r\n\tmixins: [sendVerifyCode],\r\n\tdata: function() {\r\n\t\treturn {\r\n\t\t\tnavList: ['账号登录'],\r\n\t\t\tcurrent: 0,\r\n\t\t\taccount: '',\r\n\t\t\tpassword: '',\r\n\t\t\tcaptcha: '',\r\n\t\t\tinviteCode: '',\r\n\t\t\tformItem: 1,\r\n\t\t\ttype: 'login',\r\n\t\t\tcheck: '1',\r\n\t\t\tisChecked: false,\r\n\t\t\tmodal:false\r\n\t\t};\r\n\t},\r\n\tonShow() {\r\n\tconsole.log(Boolean(uni.getStorageSync('number')));\r\n\t\tif(!uni.getStorageSync('number')){\r\n\t\t\tthis.modal=true\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync loginMobile() {\r\n\t\t\tconsole.log(loginMobile);\r\n\t\t\tvar that = this;\r\n\t\t\tconst { account, captcha } = that;\r\n\t\t\ttry {\r\n\t\t\t\tawait that\r\n\t\t\t\t\t.$validator({\r\n\t\t\t\t\t\taccount: [required(required.message('手机号码')), chs_phone(chs_phone.message())],\r\n\t\t\t\t\t\tcaptcha: [required(required.message('验证码')), alpha_num(alpha_num.message('验证码'))]\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.validate({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tcaptcha\r\n\t\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn validatorDefaultCatch(e);\r\n\t\t\t}\r\n\t\t\tloginMobile({\r\n\t\t\t\tphone: that.account,\r\n\t\t\t\tcaptcha: that.captcha,\r\n\t\t\t\tspread: cookie.get('spread')\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tvar data = res.data;\r\n\t\t\t\t\tuni.setStorageSync('number','1')\r\n\t\t\t\t\tthat.$store.commit('login', data.token, dayjs(data.expires_time));\r\n\t\t\t\t\t// handleGetUserInfo();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: err.msg || err.response.data.msg || err.response.data.message,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tasync register() {\r\n\t\t\tif (!this.isChecked) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请勾选《注册协议》和《隐私政策》',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar that = this;\r\n\t\t\tconst { account, captcha, password } = that;\r\n\t\t\ttry {\r\n\t\t\t\tawait that\r\n\t\t\t\t\t.$validator({\r\n\t\t\t\t\t\taccount: [required(required.message('手机号码')), chs_phone(chs_phone.message())],\r\n\t\t\t\t\t\tcaptcha: [required(required.message('验证码')), alpha_num(alpha_num.message('验证码'))],\r\n\t\t\t\t\t\tpassword: [required(required.message('密码')), attrs.range([6, 16], attrs.range.message('密码')), alpha_num(alpha_num.message('密码'))]\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.validate({\r\n\t\t\t\t\t\taccount,\r\n\t\t\t\t\t\tcaptcha,\r\n\t\t\t\t\t\tpassword\r\n\t\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn validatorDefaultCatch(e);\r\n\t\t\t}\r\n\t\t\tregister({\r\n\t\t\t\taccount: that.account,\r\n\t\t\t\tcaptcha: that.captcha,\r\n\t\t\t\tpassword: that.password,\r\n\t\t\t\tinviteCode: that.inviteCode,\r\n\t\t\t\tspread: cookie.get('spread')\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.formItem = 1;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: err.msg || err.response.data.msg || err.response.data.message,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tasync code() {\r\n\t\t\tvar that = this;\r\n\t\t\tconst { account } = that;\r\n\t\t\ttry {\r\n\t\t\t\tawait that\r\n\t\t\t\t\t.$validator({\r\n\t\t\t\t\t\taccount: [required(required.message('手机号码')), chs_phone(chs_phone.message())]\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.validate({\r\n\t\t\t\t\t\taccount\r\n\t\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn validatorDefaultCatch(e);\r\n\t\t\t}\r\n\t\t\tif (that.formItem == 2) that.type = 'register';\r\n\t\t\tawait registerVerify({\r\n\t\t\t\tphone: that.account,\r\n\t\t\t\ttype: that.type\r\n\t\t\t})\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.sendCode();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: err.msg || err.response.data.msg || err.response.data.message,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tnavTap: function(index) {\r\n\t\t\tthis.current = index;\r\n\t\t},\r\n\t\tchangeChecked(c) {\r\n\t\t\tconsole.log(c.detail.value);\r\n\t\t\tif (c.detail.value.length === 0) {\r\n\t\t\t\tthis.isChecked = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.isChecked = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleGoUser() {\r\n\t\t\t\r\n\t\t},\r\n\t\tforget() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl:'/pages/login/forget'\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleGoPrivacy() {\r\n\t\t\t\r\n\t\t},\r\n\t\tasync submit() {\r\n\t\t\tconsole.log('submit');\r\n\t\t\tconst { account, password } = this;\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$validator({\r\n\t\t\t\t\taccount: [required(required.message('账号')), attrs.range([5, 16], attrs.range.message('账号')), alpha_num(alpha_num.message('账号'))],\r\n\t\t\t\t\tpassword: [required(required.message('密码')), attrs.range([6, 16], attrs.range.message('密码')), alpha_num(alpha_num.message('密码'))]\r\n\t\t\t\t}).validate({\r\n\t\t\t\t\taccount,\r\n\t\t\t\t\tpassword\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn validatorDefaultCatch(e);\r\n\t\t\t}\r\n\r\n\t\t\tlogin({\r\n\t\t\t\tusername: account,\r\n\t\t\t\tpassword,\r\n\t\t\t\tspread: cookie.get('spread')\r\n\t\t\t})\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tthis.$store.commit('login', data.token, dayjs(data.expires_time));\r\n\t\t\t\t\t// handleGetUserInfo();\r\n\t\t\t\t\t// let replace=this.$yroute.query.replace\r\n\t\t\t\t\t// if(replace){\r\n\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tthis.$yrouter.replace({\r\n\t\t\t\t\t\tpath: '/pages/home/index'\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: err.msg || err.response.data.msg || err.response.data.message,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.tip {\r\n\tfont-size: 24rpx;\r\n\tmargin: 40rpx auto;\r\n\ttext-align: center;\r\n}\r\n.desc {\r\n\tfont-size: 24rpx;\r\n\tmargin: 20rpx 0;\r\n}\r\n.clickClass {\r\n\tcolor: #2f72ff;\r\n}\r\n.passwordClass {\r\n\twidth: 100%;\r\n}\r\n.password {\r\n\tfont-size: 24rpx;\r\n\ttext-align: right;\r\n\tpadding: 0rpx 0;\r\n}\r\n.t-login {\r\n\twidth: 600rpx;\r\n\tmargin: 0 auto;\r\n\tfont-size: 28rpx;\r\n\tcolor: #000;\r\n}\r\n\r\n.t-login button {\r\n\tfont-size: 28rpx;\r\n\tbackground: #2f72ff;\r\n\tcolor: #fff;\r\n\theight: 90rpx;\r\n\tline-height: 90rpx;\r\n\tborder-radius: 50rpx;\r\n}\r\n\r\n.t-login input {\r\n\tpadding: 0 20rpx 0 120rpx;\r\n\theight: 90rpx;\r\n\tline-height: 90rpx;\r\n\tmargin-bottom: 50rpx;\r\n\tbackground: #f4f4f4;\r\n\tfont-size: 28rpx;\r\n\tborder-radius: 50rpx;\r\n}\r\n\r\n.t-login .t-a {\r\n\tposition: relative;\r\n}\r\n\r\n.t-login .t-a image {\r\n\twidth: 52rpx;\r\n\theight: 32rpx;\r\n\tposition: absolute;\r\n\tleft: 40rpx;\r\n\ttop: 28rpx;\r\n\tborder-right: 2rpx solid #dedede;\r\n\tpadding-right: 20rpx;\r\n}\r\n\r\n.t-login .t-b {\r\n\ttext-align: center;\r\n\tfont-size: 46rpx;\r\n\tcolor: #000;\r\n\tpadding: 100rpx 0;\r\n}\r\n\r\n.t-login .t-c {\r\n\tposition: absolute;\r\n\tright: 22rpx;\r\n\ttop: 22rpx;\r\n\tbackground: #2f72ff;\r\n\tcolor: #fff;\r\n\tfont-size: 24rpx;\r\n\tborder-radius: 50rpx;\r\n\theight: 50rpx;\r\n\tline-height: 50rpx;\r\n\tpadding: 0 25rpx;\r\n}\r\n\r\n.t-login .t-d {\r\n\ttext-align: center;\r\n\tcolor: #999;\r\n\tmargin: 50rpx 0;\r\n\tfont-size: 24rpx;\r\n}\r\n\r\n.t-login .t-e {\r\n\ttext-align: center;\r\n\twidth: 250rpx;\r\n\tmargin: 80rpx auto 0;\r\n}\r\n\r\n.t-login .t-g {\r\n\tfloat: left;\r\n\twidth: 50%;\r\n}\r\n\r\n.t-login .t-e image {\r\n\twidth: 50rpx;\r\n\theight: 50rpx;\r\n}\r\n\r\n.t-login .t-f {\r\n\ttext-align: center;\r\n\tmargin: 80rpx 0 0 0;\r\n\tcolor: #666;\r\n}\r\n\r\n.t-login .t-f text {\r\n\tmargin-left: 8rpx;\r\n\tcolor: #999;\r\n}\r\n\r\n.t-login .uni-input-placeholder {\r\n\tcolor: #000;\r\n}\r\n\r\n.cl {\r\n\tzoom: 1;\r\n}\r\n\r\n.cl:after {\r\n\tclear: both;\r\n\tdisplay: block;\r\n\tvisibility: hidden;\r\n\theight: 0;\r\n\tcontent: '\\20';\r\n}\r\n/*拼团玩法介绍 modal*/\r\n.tui-modal__title {\r\n\t\r\n\ttext-align: center;\r\n\tfont-weight: bold;\r\n\tpadding-bottom: 8rpx;\r\n}\r\n.tui-modal__p {\r\n\tfont-size: 26rpx;\r\n\tcolor: #888;\r\n\tpadding: 20rpx 10rpx 0 10rpx;\r\n}\r\n.tui-modal__btn {\r\n\twidth: 100%;\r\n\tpadding: 60rpx 0 20rpx;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=4586967a&lang=less&scoped=true&\"; export default mod; export * from \"-!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-1!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-2!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=4586967a&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1663549812341\n      var cssReload = require(\"E:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}